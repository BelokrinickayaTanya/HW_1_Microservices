## HW_1_Microservices
Система для предсказания цен на жилье в Калифорнии с использованием микросервисной архитектуры и RabbitMQ. 
Проект демонстрирует взаимодействие четырех независимых сервисов через брокер сообщений.

## Разработка приложения осуществлялась в PyCharm
терминал: PowerShell (Windows по умолчанию)

## Датасет:
Используется California Housing Dataset из библиотеки scikit-learn: 
Объем данных: 20,640 записей 
Количество признаков: 8 числовых признаков 
Целевая переменная: Цена дома (в тысячах долларов) 
Признаки: MedInc - медианный доход в районе 
HouseAge - медианный возраст домов 
AveRooms - среднее количество комнат 
AveBedrms - среднее количество спален 
Population - население района 
AveOccup - среднее количество жильцов на дом 
Latitude - широта Longitude - долгота

## Архитектура системы
# Сервисы:
features.py - Генерирует тестовые данные
Разделяет данные на обучающие и тестовые 
Сохраняет обучающие данные в pickle-файл 
Отправляет случайные тестовые записи в RabbitMQ каждые 10 секунд

model.py - Машинное обучение
Загружает обучающие данные 
Обучает модель RandomForestRegressor 
Получает признаки из очереди, делает предсказания 
Отправляет предсказания в очередь

metric.py - Сбор метрик
Получает истинные значения и предсказания 
Вычисляет абсолютную ошибку 
Сохраняет результаты в CSV файл

plot.py - Визуализация
Мониторит файл с метриками 
Строит гистограмму распределения ошибок 
Обновляет график каждые 2 секунды

RabbitMQ - Брокер сообщений
Обеспечивает асинхронное взаимодействие сервисов 
Три очереди: 
X_queue - признаки для предсказания 
y_true_queue - истинные значения 
y_pred_queue - предсказания модели

## Инструкция по развертыванию с GitHub
Предварительные требования: 
Установленный Docker Desktop 
Установленный Docker Compose 
Аккаунт на GitHub 
Git установленный локально

## Клонируйте репозиторий
git clone https://github.com/BelokrinickayaTanya/HW_1_Microservices.git

## Перейдите в папку проекта
cd HW_1_Microservices

## Создание необходимых папок
mkdir data, logs

## Сборка и запуск всех контейнеров
docker-compose up --build

## Проверка работы
RabbitMQ Dashboard: 
Откройте в браузере http://localhost:15672 
Логин: guest 
Пароль: guest 
Проверьте наличие трех очередей

## Проверка сгенерированных файлов:
В папке logs/ должен появиться файл metric_log.csv - метрики предсказаний 
В папке logs/ должен появиться график error_distribution.png - график распределения ошибок

## Остановка системы
docker-compose down # Остановка контейнеров

# Очистка сгенерированных данных:
Remove-Item -Path "data*" -Force -Recurse # очистить папку data 
Remove-Item -Path "logs*" -Force -Recurse # очистить папку logs
